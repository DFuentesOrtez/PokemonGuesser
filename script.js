var x = window.matchMedia("(max-width: 700px)");
//
// LONG LIST OF POKEMON
//
var poke1 = document.createElement("img");
poke1.value = "images/bulbasaur.png";

var poke2 = document.createElement("img");
poke2.value = "images/ivysaur.png";

var poke3 = document.createElement("img");
poke3.value = "images/venasaur.png";

var poke4 = document.createElement("img");
poke4.value = "images/charmander.png";

var poke5 = document.createElement("img");
poke5.value = "images/charmeleon.png";

var poke6 = document.createElement("img");
poke6.value = "images/charizard.png";

var poke7 = document.createElement("img");
poke7.value = "images/squirtle.png";

var poke8 = document.createElement("img");
poke8.value = "images/wartortle.png";

var poke9 = document.createElement("img");
poke9.value = "images/blastoise.png";

var poke10 = document.createElement("img");
poke10.value = "images/caterpie.png";

var poke11 = document.createElement("img");
poke11.value = "images/metapod.png";

var poke12 = document.createElement("img");
poke12.value = "images/butterfree.png";

var poke13 = document.createElement("img");
poke13.value = "images/weedle.png";

var poke14 = document.createElement("img");
poke14.value = "images/metapod.png";

var poke15 = document.createElement("img");
poke15.value = "images/beedrill.png";

var poke16 = document.createElement("img");
poke16.value = "images/pidgey.png";

var poke17 = document.createElement("img");
poke17.value = "images/pidgeotto.png";

var poke18 = document.createElement("img");
poke18.value = "images/pidgeot.png";

var poke19 = document.createElement("img");
poke19.value = "images/rattata.png";

var poke20 = document.createElement("img");
poke20.value = "images/raticate.png";

var poke21 = document.createElement("img");
poke21.value = "images/spearow.png";

var poke22 = document.createElement("img");
poke22.value = "images/fearow.png";

var poke23 = document.createElement("img");
poke23.value = "images/ekans.png";

var poke24 = document.createElement("img");
poke24.value = "images/arbok.png";

var poke25 = document.createElement("img");
poke25.value = "images/pikachu.png";

var poke26 = document.createElement("img");
poke26.value = "images/raichu.png";

var poke27 = document.createElement("img");
poke27.value = "images/sandshrew.png";

var poke28 = document.createElement("img");
poke28.value = "images/sandslash.png";

var poke29 = document.createElement("img");
poke29.value = "images/nidoran(f).png";

var poke30 = document.createElement("img");
poke30.value = "images/nidorina.png";

var poke31 = document.createElement("img");
poke31.value = "images/nidoqueen.png";

var poke32 = document.createElement("img");
poke32.value = "images/nidoran(m).png";

var poke33 = document.createElement("img");
poke33.value = "images/nidorino.png";

var poke34 = document.createElement("img");
poke34.value = "images/nidoking.png";

var poke35 = document.createElement("img");
poke35.value = "images/clefairy.png";

var poke36 = document.createElement("img");
poke36.value = "images/clefable.png";

var poke37 = document.createElement("img");
poke37.value = "images/vulpix.png";

var poke38 = document.createElement("img");
poke38.value = "images/ninetales.png";

var poke39 = document.createElement("img");
poke39.value = "images/jigglypuff.png";

var poke40 = document.createElement("img");
poke40.value = "images/wigglytuff.png";

var poke41 = document.createElement("img");
poke41.value = "images/zubat.png";

var poke42 = document.createElement("img");
poke42.value = "images/golbat.png";

var poke43 = document.createElement("img");
poke43.value = "images/oddish.png";

var poke44 = document.createElement("img");
poke44.value = "images/gloom.png";

var poke45 = document.createElement("img");
poke45.value = "images/vileplume.png";

var poke46 = document.createElement("img");
poke46.value = "images/paras.png";

var poke47 = document.createElement("img");
poke47.value = "images/parasect.png";

var poke48 = document.createElement("img");
poke48.value = "images/venonat.png";

var poke49 = document.createElement("img");
poke49.value = "images/venomoth.png";

var poke50 = document.createElement("img");
poke50.value = "images/diglett.png";

var poke51 = document.createElement("img");
poke51.value = "images/dugtrio.png";

var poke52 = document.createElement("img");
poke52.value = "images/meowth.png";

var poke53 = document.createElement("img");
poke53.value = "images/persian.png";

var poke54 = document.createElement("img");
poke54.value = "images/psyduck.png";

var poke55 = document.createElement("img");
poke55.value = "images/golduck.png";

var poke56 = document.createElement("img");
poke56.value = "images/mankey.png";

var poke57 = document.createElement("img");
poke57.value = "images/primeape.png";

var poke58 = document.createElement("img");
poke58.value = "images/growlithe.png";

var poke59 = document.createElement("img");
poke59.value = "images/arcanine.png";

var poke60 = document.createElement("img");
poke60.value = "images/poliwag.png";

var poke61 = document.createElement("img");
poke61.value = "images/poliwhirl.png";

var poke62 = document.createElement("img");
poke62.value = "images/poliwrath.png";

var poke63 = document.createElement("img");
poke63.value = "images/abra.png";

var poke64 = document.createElement("img");
poke64.value = "images/kadabra.png";

var poke65 = document.createElement("img");
poke65.value = "images/alakazam.png";

var poke66 = document.createElement("img");
poke66.value = "images/machop.png";

var poke67 = document.createElement("img");
poke67.value = "images/machoke.png";

var poke68 = document.createElement("img");
poke68.value = "images/machamp.png";

var poke69 = document.createElement("img");
poke69.value = "images/bellsprout.png";

var poke70 = document.createElement("img");
poke70.value = "images/weepinbell.png";

var poke71 = document.createElement("img");
poke71.value = "images/victreebel.png";

var poke72 = document.createElement("img");
poke72.value = "images/tentacool.png";

var poke73 = document.createElement("img");
poke73.value = "images/tentacruel.png";

var poke74 = document.createElement("img");
poke74.value = "images/geodude.png";

var poke75 = document.createElement("img");
poke75.value = "images/graveler.png";

var poke76 = document.createElement("img");
poke76.value = "images/golem.png";

var poke77 = document.createElement("img");
poke77.value = "images/ponyta.png";

var poke78 = document.createElement("img");
poke78.value = "images/rapidash.png";

var poke79 = document.createElement("img");
poke79.value = "images/slowpoke.png";

var poke80 = document.createElement("img");
poke80.value = "images/slowbro.png";

var poke81 = document.createElement("img");
poke81.value = "images/magnemite.png";

var poke82 = document.createElement("img");
poke82.value = "images/magneton.png";

var poke83 = document.createElement("img");
poke83.value = "images/farfetchd.png";

var poke84 = document.createElement("img");
poke84.value = "images/doduo.png";

var poke85 = document.createElement("img");
poke85.value = "images/dodrio.png";

var poke86 = document.createElement("img");
poke86.value = "images/seel.png";

var poke87 = document.createElement("img");
poke87.value = "images/dewgong.png";

var poke88 = document.createElement("img");
poke88.value = "images/grimer.png";

var poke89 = document.createElement("img");
poke89.value = "images/muk.png";

var poke90 = document.createElement("img");
poke90.value = "images/shellder.png";

var poke91 = document.createElement("img");
poke91.value = "images/cloyster.png";

var poke92 = document.createElement("img");
poke92.value = "images/gastly.png";

var poke93 = document.createElement("img");
poke93.value = "images/haunter.png";

var poke94 = document.createElement("img");
poke94.value = "images/gengar.png";

var poke95 = document.createElement("img");
poke95.value = "images/onix.png";

var poke96 = document.createElement("img");
poke96.value = "images/drowzee.png";

var poke97 = document.createElement("img");
poke97.value = "images/hypno.png";

var poke98 = document.createElement("img");
poke98.value = "images/krabby.png";

var poke99 = document.createElement("img");
poke99.value = "images/kingler.png";

var poke100 = document.createElement("img");
poke100.value = "images/voltorb.png";

var poke101 = document.createElement("img");
poke101.value = "images/electrode.png";

var poke102 = document.createElement("img");
poke102.value = "images/exeggcute.png";

var poke103 = document.createElement("img");
poke103.value = "images/exeggutor.png";

var poke104 = document.createElement("img");
poke104.value = "images/cubone.png";

var poke105 = document.createElement("img");
poke105.value = "images/marowak.png";

var poke106 = document.createElement("img");
poke106.value = "images/hitmonlee.png";

var poke107 = document.createElement("img");
poke107.value = "images/hitmonchan.png";

var poke108 = document.createElement("img");
poke108.value = "images/lickitung.png";

var poke109 = document.createElement("img");
poke109.value = "images/koffing.png";

var poke110 = document.createElement("img");
poke110.value = "images/weezing.png";

var poke111 = document.createElement("img");
poke111.value = "images/rhyhorn.png";

var poke112 = document.createElement("img");
poke112.value = "images/rhydon.png";

var poke113 = document.createElement("img");
poke113.value = "images/chansey.png";

var poke114 = document.createElement("img");
poke114.value = "images/tangela.png";

var poke115 = document.createElement("img");
poke115.value = "images/kangaskhan.png";

var poke116 = document.createElement("img");
poke116.value = "images/horsea.png";

var poke117 = document.createElement("img");
poke117.value = "images/seadra.png";

var poke118 = document.createElement("img");
poke118.value = "images/goldeen.png";

var poke119 = document.createElement("img");
poke119.value = "images/seaking.png";

var poke120 = document.createElement("img");
poke120.value = "images/staryu.png";

var poke121 = document.createElement("img");
poke121.value = "images/starmie.png";

var poke122 = document.createElement("img");
poke122.value = "images/mrmime.png";

var poke123 = document.createElement("img");
poke123.value = "images/scyther.png";

var poke124 = document.createElement("img");
poke124.value = "images/jynx.png";

var poke125 = document.createElement("img");
poke125.value = "images/electabuzz.png";

var poke126 = document.createElement("img");
poke126.value = "images/magmar.png";

var poke127 = document.createElement("img");
poke127.value = "images/pinsir.png";

var poke128 = document.createElement("img");
poke128.value = "images/tauros.png";

var poke129 = document.createElement("img");
poke129.value = "images/magikarp.png";

var poke130 = document.createElement("img");
poke130.value = "images/gyarados.png";

var poke131 = document.createElement("img");
poke131.value = "images/lapras.png";

var poke132 = document.createElement("img");
poke132.value = "images/ditto.png";

var poke133 = document.createElement("img");
poke133.value = "images/eevee.png";

var poke134 = document.createElement("img");
poke134.value = "images/vaporeon.png";

var poke135 = document.createElement("img");
poke135.value = "images/jolteon.png";

var poke136 = document.createElement("img");
poke136.value = "images/flareon.png";

var poke137 = document.createElement("img");
poke137.value = "images/porygon.png";

var poke138 = document.createElement("img");
poke138.value = "images/omanyte.png";

var poke139 = document.createElement("img");
poke139.value = "images/omastar.png";

var poke140 = document.createElement("img");
poke140.value = "images/kabuto.png";

var poke141 = document.createElement("img");
poke141.value = "images/kabutops.png";

var poke142 = document.createElement("img");
poke142.value = "images/aerodactyl.png";

var poke143 = document.createElement("img");
poke143.value = "images/snorlax.png";

var poke144 = document.createElement("img");
poke144.value = "images/articuno.png";

var poke145 = document.createElement("img");
poke145.value = "images/zapdos.png";

var poke146 = document.createElement("img");
poke146.value = "images/moltres.png";

var poke147 = document.createElement("img");
poke147.value = "images/dratini.png";

var poke148 = document.createElement("img");
poke148.value = "images/dragonair.png";

var poke149 = document.createElement("img");
poke149.value = "images/dragonite.png";

var poke150 = document.createElement("img");
poke150.value = "images/mewtwo.png";

var poke151 = document.createElement("img");
poke151.value = "images/mew.png";


//ARRAY OF ALL POKEMON
var allPoke = [poke1, poke2, poke3, poke4, poke5, poke6, poke7, poke8, poke9, poke10, poke11, poke12, poke13, poke14, poke15, poke16, poke17, poke18, poke19,
    poke20, poke21, poke22, poke23, poke24, poke25, poke26, poke27, poke28, poke29, poke30, poke31, poke32, poke33, poke34, poke35, poke36, poke37,
    poke38, poke39, poke40, poke41, poke42, poke43, poke44, poke45, poke46, poke47, poke48, poke49, poke50, poke51, poke52, poke53, poke54, poke55,
    poke56, poke57, poke58, poke59, poke60, poke61, poke62, poke63, poke64, poke65, poke66, poke67, poke68, poke69, poke70, poke71, poke72, poke73,
    poke74, poke75, poke76, poke77, poke78, poke79, poke80, poke81, poke82, poke83, poke84, poke85, poke86, poke87, poke88, poke89, poke90, poke91,
    poke92, poke93, poke94, poke95, poke96, poke97, poke98, poke99, poke100, poke101, poke102, poke103, poke104, poke105, poke106, poke107, poke108,
    poke109, poke110, poke111, poke112, poke113, poke114, poke115, poke116, poke117, poke118, poke119, poke120, poke121, poke122, poke123, poke124,
    poke125, poke126, poke127, poke128, poke129, poke130, poke131, poke132, poke133, poke134, poke135, poke136, poke137, poke138, poke139, poke140,
    poke141, poke142, poke143, poke144, poke145, poke146, poke147, poke148, poke149, poke150, poke151];


const container = document.querySelector("#container");
var currentPoke;
var imgName = document.createElement("p");

const reveal = document.querySelector("#reveal");

const pointSection = document.querySelector("#pointSection");
var points = 0;
var revealed = false;
var randNum;
var counter = 0;
var counterTotal;
counterTotal = allPoke.length;
const pokeProgress = document.querySelector("#pokeProgress");
const newPoke = document.querySelector("#newPoke");

const submit = document.querySelector("#submit");
const answerContainer = document.querySelector("#answerContainer");
var guess = document.querySelector("#guess");

const restart = document.querySelector("#restart");


//DISPLAYS IMAGE OF POKEMON AND SAVES THE NAME
function showImage(src) {
    //REMOVES PREVIOUS IMAGE/NAME
    container.replaceChildren();
    //DISPLAYS NEW IMAGE
    var img = document.createElement("img");
    img.src = src;
    mobilePokeImages(x, img);
    img.setAttribute("style", "margin-left: auto; margin-right: auto");
    container.appendChild(img);
    //SAVES NAME OF POKEMON
    imgName.textContent = getImgName(src);
    imgName.setAttribute("style", "font-size: 22px; width: 200px; margin-left: auto; margin-right: auto;");
    currentPoke = imgName.textContent;
}
function mobilePokeImages(x, img) {
    if (x.matches) {
        img.width = 350;
        img.height = 350;
    }
    else {
        img.width = 300;
        img.height = 300;
    }
}
//GRABS THE NAME OF THE CURRENT POKEMON
function getImgName(src) {
    //GETS SEPARATES NAME FROM THE IMAGE'S FILEPATH + EXTENSION
    var imgName = src.slice(7);
    imgName = imgName.slice(0, imgName.length - 4);
    imgName = imgName.charAt(0).toUpperCase() + imgName.slice(1);

    if (imgName == "Mrmime")
        imgName = "Mr. Mime";
    else if (imgName == "Farfetchd")
        imgName = "Farfetch'd";
    else if (imgName == "Nidoran(f)")
        imgName = "Nidoran (F)";
    else if (imgName == "Nidoran(m)")
        imgName = "Nidoran (M)";

    return imgName;
}

//GENERATES RANDOM NUMBER. USED FOR GETTING RANDOM INDEX FROM ARRAY
function randomNum() {
    return Math.floor(Math.random() * allPoke.length);
}

//Loads up a random initial Pokemon
function initialPoke() {
    randNum = randomNum();
    showImage(allPoke[randNum].value);
    allPoke.splice(randNum, 1);

    pokeProgress.replaceChildren();
    //COUNTER BASED ON HOW MANY POKEMON YOU HAVE GUESSED OUT OF THE TOTAL
    var pokeAmount = document.createElement("p");
    counter++;
    pokeAmount.textContent = counter + "/" + counterTotal;
    pokeAmount.setAttribute("style", "font-size: 20px; margin-left: auto; margin-right: auto;");
    pokeProgress.appendChild(pokeAmount);

    addPoint();
}
initialPoke();

function addPoint() {
    pointSection.replaceChildren();
    var totalPoints = document.createElement("p");
    totalPoints.textContent = "Points: " + points;
    totalPoints.setAttribute("style", "font-size: 20px;");
    pointSection.appendChild(totalPoints);

    if (points == 151) {
        var perfectScore = document.createElement("p");
        perfectScore.textContent = "Perfect Score!";
        perfectScore.setAttribute("style", "font-size: 20px;");
        pointSection.appendChild(perfectScore);
    }
}

//ON PRESS, GENERATES NEW POKEMON AND REPLACES CURRENT(IF ANY) POKEMON IF THERE ARE ANY LEFT IN ARRAY
newPoke.addEventListener("click", function () {
    answerContainer.replaceChildren();
    revealed = false;
    if (allPoke.length == 0) {
        //DISPLAYS IMAGE SHOWING THAT THERE ARE NO POKEMON LEFT
        container.replaceChildren();
        var fillerImg = document.createElement("img");
        fillerImg.src = "images/pokeball.png";
        mobileFillerImage(x, fillerImg);
        container.appendChild(fillerImg);

        imgName.textContent = "";

    }
    else {
        //GETS RANDOM POKEMON AND CALLS SHOWIMAGE TO DISPLAY IT
        randNum = randomNum();
        showImage(allPoke[randNum].value);
        allPoke.splice(randNum, 1);

        pokeProgress.replaceChildren();
        //COUNTER BASED ON HOW MANY POKEMON YOU HAVE GUESSED OUT OF THE TOTAL
        var pokeAmount = document.createElement("p");
        counter++;
        pokeAmount.textContent = counter + "/" + counterTotal;
        pokeAmount.setAttribute("style", "font-size: 20px; margin-left: auto; margin-right: auto;");
        pokeProgress.appendChild(pokeAmount);
    }
});
function mobileFillerImage(x, fillerImg) {
    if (x.matches) {
        fillerImg.setAttribute("style", "width: 350px; height: 350px; margin-left: auto; margin-right: auto");
    }
    else {
        fillerImg.setAttribute("style", "width: 300px; height: 300px; margin-left: auto; margin-right: auto");
    }
}

//REVEALS NAME OF CURRENT POKEMON ON PRESS
reveal.addEventListener("click", function () {
    answerContainer.replaceChildren();
    container.appendChild(imgName);
    revealed = true;
});

//ON PRESS, CHECKS IF THE CURRENT GUESS IS CORRECT OR WRONG. 
//IF CORRECT, GENERATE NEW POKEMON AND SAY CORRECT, IF WRONG, SAYS WRONG
submit.addEventListener("click", function () {
    var myGuess = (guess.value);
    //REMOVES SPACES FROM THE INPUTTED GUESS TO AVOID AUTO-SPACES LEADING TO WRONG ANSWERS
    myGuess = myGuess.replace(/\s+/g, "");
    guess.value = "";
    //CHECKS IF GUESS MATCHES CURRENT POKEMON
    if (myGuess.toUpperCase() == currentPoke.toUpperCase() ||
        //CASES FOR POKEMON WHOSE NAMES MAY BE SPELLED DIFFERENTLY. LIKE NAMES WITH PUNCTUATION
        (currentPoke.toUpperCase() == "mr. mime".toUpperCase() && (((myGuess.toUpperCase() == "mrmime".toUpperCase())) || (myGuess.toUpperCase() == "mr.mime".toUpperCase()))) ||
        (currentPoke.toUpperCase() == "farfetch'd".toUpperCase() && (myGuess.toUpperCase() == "farfetchd".toUpperCase())) ||
        ((currentPoke.toUpperCase() == "nidoran (f)".toUpperCase() || currentPoke.toUpperCase() == "nidoran (m)".toUpperCase()) && (myGuess.toUpperCase() == "nidoran".toUpperCase()))) {
        //IF GUESS IS CORRECT
        if (allPoke.length > 0) {
            answerContainer.replaceChildren();
            //DISPLAYS CORRECT AND FADES
            var answer = document.createElement("p");
            answer.setAttribute("style", "font-size: 22px;");
            function show() {
                answer.textContent = "Correct!";
                setTimeout(hide, 700);
            }
            function hide() {
                answer.textContent = "";
            }
            show();
            answerContainer.appendChild(answer);
        }

        //GENERATES NEW POKEMON
        if (allPoke.length > 0) {
            randNum = randomNum();
            showImage(allPoke[randNum].value);
            allPoke.splice(randNum, 1);
            //COUNTER INCREMENTS
            pokeProgress.replaceChildren();
            var pokeAmount = document.createElement("p");
            counter++;
            pokeAmount.textContent = counter + "/" + counterTotal;
            pokeAmount.setAttribute("style", "font-size: 20px; margin-left: auto; margin-right: auto;");
            pokeProgress.appendChild(pokeAmount);
        }
        else {
            //DISPLAYS IMAGE SHOWING THAT THERE ARE NO POKEMON LEFT
            container.replaceChildren();
            var fillerImg = document.createElement("img");
            fillerImg.src = "images/pokeball.png";
            fillerImg.setAttribute("style", "width: 300px; height: 300px; margin-left: auto; margin-right: auto");
            container.appendChild(fillerImg);

            imgName.textContent = "";
        }
        if (revealed == false) {
            points++;
            addPoint();
        }
        revealed = false;
    }

    //IF GUESS IS WRONG
    else {
        if (allPoke.length > 0) {
            answerContainer.replaceChildren();
            //DISPLAYS WRONG AND FADES
            var answer = document.createElement("p");
            answer.setAttribute("style", "font-size: 22px;");
            function show() {
                answer.textContent = "Wrong!";
                setTimeout(hide, 700);
            }
            function hide() {
                answer.textContent = "";
            }
            show();
            answerContainer.appendChild(answer);
        }
    }
});

//PRESSING ENTER KEY IN TEXT INPUT TRIGGERS SUBMIT BUTTON
document.getElementById("guess").addEventListener("keypress", function (event) {
    if (event.key === "Enter") {
        event.preventDefault();
        document.getElementById("submit").click();
    }
})

//RESTART BUTTON. ON PRESS RESETS ALL VALUES. IMAGE REMOVED, COUNTER 0, ARRAY REFILLED, ETC.
//AS IF YOU REFRESHED THE PAGE.
restart.addEventListener("click", function () {
    container.replaceChildren();
    answerContainer.replaceChildren();
    guess.value = "";
    imgName.textContent = "";
    counter = 0;
    pokeProgress.replaceChildren();
    allPoke = [poke1, poke2, poke3, poke4, poke5, poke6, poke7, poke8, poke9, poke10, poke11, poke12, poke13, poke14, poke15, poke16, poke17, poke18, poke19,
        poke20, poke21, poke22, poke23, poke24, poke25, poke26, poke27, poke28, poke29, poke30, poke31, poke32, poke33, poke34, poke35, poke36, poke37,
        poke38, poke39, poke40, poke41, poke42, poke43, poke44, poke45, poke46, poke47, poke48, poke49, poke50, poke51, poke52, poke53, poke54, poke55,
        poke56, poke57, poke58, poke59, poke60, poke61, poke62, poke63, poke64, poke65, poke66, poke67, poke68, poke69, poke70, poke71, poke72, poke73,
        poke74, poke75, poke76, poke77, poke78, poke79, poke80, poke81, poke82, poke83, poke84, poke85, poke86, poke87, poke88, poke89, poke90, poke91,
        poke92, poke93, poke94, poke95, poke96, poke97, poke98, poke99, poke100, poke101, poke102, poke103, poke104, poke105, poke106, poke107, poke108,
        poke109, poke110, poke111, poke112, poke113, poke114, poke115, poke116, poke117, poke118, poke119, poke120, poke121, poke122, poke123, poke124,
        poke125, poke126, poke127, poke128, poke129, poke130, poke131, poke132, poke133, poke134, poke135, poke136, poke137, poke138, poke139, poke140,
        poke141, poke142, poke143, poke144, poke145, poke146, poke147, poke148, poke149, poke150, poke151];
    initialPoke();

    pointSection.replaceChildren();
    var totalPoints = document.createElement("p");
    points = 0;
    totalPoints.textContent = "Points: " + points;
    totalPoints.setAttribute("style", "font-size: 20px;");
    pointSection.appendChild(totalPoints);
});